{"ast":null,"code":"import _objectSpread from\"/home/jaswanth/Desktop/OpenSourceTask-4/Task-1/cognizance-member-list/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/jaswanth/Desktop/OpenSourceTask-4/Task-1/cognizance-member-list/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useHistory,useParams}from'react-router-dom';import'./AddEdit.css';import fireDb from\"../firebase\";import\"firebase/compat/database\";import{toast}from'react-toastify';// const initialState = {\n//     uname : \"\",\n//     email : \"\",\n//     contact : \"\",\n//     age :\"\",\n//     skills :\"\",\n//     roll :\"\",\n//     interests :\"\",\n// }\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddEdit(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),uname=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),contact=_useState6[0],setContact=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),age=_useState8[0],setAge=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),skills=_useState10[0],setSkills=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),roll=_useState12[0],setRoll=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),interests=_useState14[0],setInterests=_useState14[1];var history=useHistory();var _useParams=useParams(),id=_useParams.id;var _useState15=useState({}),_useState16=_slicedToArray(_useState15,2),data=_useState16[0],setData=_useState16[1];useEffect(function(){fireDb.database().ref().child(\"Members/\".concat(id)).get().then(function(snapshot){if(snapshot.exists()){setData(_objectSpread({},snapshot.val()));}else{setData({});}});},[id]);useEffect(function(){if(id){setName(data.uname);setEmail(data.email);setContact(data.contact);setAge(data.age);setSkills(data.skills);setInterests(data.interests);setRoll(data.roll);}else{setName(\"\");setEmail(\"\");setContact(\"\");setAge(\"\");setSkills(\"\");setInterests(\"\");setRoll(\"\");}return function(){setName(\"\");setEmail(\"\");setContact(\"\");setAge(\"\");setSkills(\"\");setInterests(\"\");setRoll(\"\");};},[id,data]);var Member={uname:uname,email:email,contact:contact,age:age,skills:skills,roll:roll,interests:interests};var handleSubmit=function handleSubmit(e){e.preventDefault();if(!uname||!email||!contact||!age||!skills||!roll||!interests){toast.error(\"Please Provide all inputs\");}else{if(!id){var fire=fireDb.database().ref().child(\"Members\");fire.push(Member,function(err){if(err){toast.error(err);}else{toast.success(\"Member Added Succeffully\");}});}else{fireDb.database().ref().child(\"Members/\".concat(id)).set(Member,function(err){if(err){toast.error(err);}else{toast.success(\"Member Updated Succeffully\");}});}setTimeout(function(){return history.push(\"/\");},500);}};return/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"100px\"},children:/*#__PURE__*/_jsxs(\"form\",{style:{margin:\"auto\",padding:\"15px\",maxWidth:\"400px\",alignContent:\"center\"},onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"uname\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"uname\",placeholder:\"Enter your name..\",value:uname||\"\",onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"email\",placeholder:\"Enter your Email..\",value:email||\"\",onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"contact\",children:\"Contact\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",id:\"contact\",placeholder:\"Enter your Phone no..\",value:contact||\"\",onChange:function onChange(e){return setContact(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"age\",children:\"Age\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"age\",placeholder:\"Enter your Age..\",value:age||\"\",onChange:function onChange(e){return setAge(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"skills\",children:\"Skills\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"skills\",placeholder:\"Enter your skills..\",value:skills,onChange:function onChange(e){return setSkills(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"interests\",children:\"Interests\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"interests\",placeholder:\"Enter your name..\",value:interests||\"\",onChange:function onChange(e){return setInterests(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"roll\",children:\"Roll in Club\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"roll\",placeholder:\"Enter your Roll..\",value:roll||\"\",onChange:function onChange(e){return setRoll(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:id?\"Update\":\"SAVE\"})]})});}export default AddEdit;","map":{"version":3,"sources":["/home/jaswanth/Desktop/OpenSourceTask-4/Task-1/cognizance-member-list/src/pages/AddEdit.js"],"names":["React","useState","useEffect","useHistory","useParams","fireDb","toast","AddEdit","uname","setName","email","setEmail","contact","setContact","age","setAge","skills","setSkills","roll","setRoll","interests","setInterests","history","id","data","setData","database","ref","child","get","then","snapshot","exists","val","Member","handleSubmit","e","preventDefault","error","fire","push","err","success","set","setTimeout","marginTop","margin","padding","maxWidth","alignContent","target","value"],"mappings":"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","sourcesContent":["import React,{ useState , useEffect} from 'react';\nimport { useHistory,useParams } from 'react-router-dom';\nimport './AddEdit.css';\nimport fireDb from \"../firebase\";\nimport \"firebase/compat/database\";\nimport { toast } from 'react-toastify';\n\n// const initialState = {\n//     uname : \"\",\n//     email : \"\",\n//     contact : \"\",\n//     age :\"\",\n//     skills :\"\",\n//     roll :\"\",\n//     interests :\"\",\n// }\n\nfunction AddEdit() {\n    const [uname, setName] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [contact, setContact] = useState(\"\");\n    const [age, setAge] = useState(\"\");\n    const [skills, setSkills] = useState(\"\");\n    const [roll, setRoll] = useState(\"\");\n    const [interests, setInterests] = useState(\"\");\n\n    const history = useHistory();    \n\n    const {id} = useParams();\n\n    const [data , setData] = useState({});\n\n    useEffect(() => {\n        fireDb.database().ref().child(`Members/${id}`).get().then((snapshot) => {\n            if(snapshot.exists()){\n                setData({...snapshot.val()})\n            }else{\n                setData({});\n            }\n        });\n    \n        \n    }, [id]);\n\n    useEffect(() =>{\n        if(id){\n            setName(data.uname);\n            setEmail(data.email);\n            setContact(data.contact);\n            setAge(data.age);\n            setSkills(data.skills);\n            setInterests(data.interests);\n            setRoll(data.roll);\n        }\n        else{\n            setName(\"\");\n            setEmail(\"\");\n            setContact(\"\");\n            setAge(\"\");\n            setSkills(\"\");\n            setInterests(\"\");\n            setRoll(\"\");\n        }\n\n        return () => {\n            setName(\"\");\n            setEmail(\"\");\n            setContact(\"\");\n            setAge(\"\");\n            setSkills(\"\");\n            setInterests(\"\");\n            setRoll(\"\");\n        };\n    }, [id,data])\n    const Member = {uname,email,contact,age,skills,roll,interests};\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if(!uname || !email || !contact || !age || !skills || !roll || !interests)\n        {\n            toast.error(\"Please Provide all inputs\")\n        } else {\n            \n            if(!id) {\n            const fire = fireDb.database().ref().child(\"Members\");\n            \n            fire.push(Member ,(err) => {\n                if(err) {\n                    toast.error(err);\n                }else{\n                    toast.success(\"Member Added Succeffully\");\n                }\n            });\n           }else{\n            \n            fireDb.database().ref().child(`Members/${id}`).set(Member ,(err) => {\n                if(err) {\n                    toast.error(err);\n                }else{\n                    toast.success(\"Member Updated Succeffully\");\n                }\n            });\n            \n\n           }\n           setTimeout(() => history.push(\"/\"),500);\n         }\n    };\n\n    return (\n            <div style={{marginTop: \"100px\"}}>\n            <form style={{ \n                margin: \"auto\", \n                padding: \"15px\", \n                maxWidth: \"400px\", \n                alignContent: \"center\" \n            }}\n              onSubmit = {handleSubmit}\n            >\n            <label htmlFor=\"uname\">Name</label>\n            <input \n                type=\"text\" \n                id=\"uname\" \n                placeholder=\"Enter your name..\" \n                value={uname || \"\"}\n                onChange={(e) => setName(e.target.value)}\n            />  \n\n            <label htmlFor=\"email\">Email</label>\n            <input \n                type=\"text\" \n                id=\"email\" \n                placeholder=\"Enter your Email..\" \n                value={email || \"\"} \n                onChange={(e) => setEmail(e.target.value)}\n            />  \n\n             <label htmlFor=\"contact\">Contact</label>\n            <input \n                type=\"tel\"  \n                id=\"contact\" \n                placeholder=\"Enter your Phone no..\" \n                value={contact || \"\"} \n                onChange={(e) => setContact(e.target.value)}\n            />  \n\n           <label htmlFor=\"age\">Age</label>\n            <input \n                type=\"number\" \n                id=\"age\" \n                placeholder=\"Enter your Age..\" \n                value={age || \"\"} \n                onChange={(e) => setAge(e.target.value)}\n            />  \n\n            <label htmlFor=\"skills\">Skills</label>\n            <input \n                type=\"text\" \n                id=\"skills\" \n                placeholder=\"Enter your skills..\" \n                value={skills} \n                onChange={(e) => setSkills(e.target.value)}\n            />  \n\n            <label htmlFor=\"interests\">Interests</label>\n            <input \n                type=\"text\" \n                id=\"interests\" \n                placeholder=\"Enter your name..\" \n                value={interests || \"\"} \n                onChange={(e) => setInterests(e.target.value)}\n            />    \n\n            <label htmlFor=\"roll\">Roll in Club</label>\n            <input \n                type=\"text\" \n                id=\"roll\" \n                placeholder=\"Enter your Roll..\" \n                value={roll || \"\" } \n                onChange={(e) => setRoll(e.target.value)}\n            />    \n\n            <input type=\"submit\" value={ id ? \"Update\" : \"SAVE\"}/>\n            \n            </form>\n        </div>\n    );\n}\n\nexport default AddEdit;"]},"metadata":{},"sourceType":"module"}