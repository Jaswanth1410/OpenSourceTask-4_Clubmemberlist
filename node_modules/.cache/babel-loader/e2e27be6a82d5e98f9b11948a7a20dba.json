{"ast":null,"code":"import _objectSpread from\"/home/jaswanth/Desktop/OpenSourceTask-4/Task-1/cognizance-member-list/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/jaswanth/Desktop/OpenSourceTask-4/Task-1/cognizance-member-list/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import fireDb from\"../firebase\";import\"firebase/compat/database\";import{Link}from\"react-router-dom\";import\"./Home.css\";import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){fireDb.database().ref().child(\"Members\").on(\"value\",function(snapshot){if(snapshot.val()!==null){setData(_objectSpread({},snapshot.val()));}else{setData({});}});return function(){setData({});};},[]);var onDelete=function onDelete(id){if(window.confirm(\"Are you sure that you wated to delete that Member ?\")){fireDb.database().ref().child(\"Members/\".concat(id)).remove(function(err){if(err){toast.error(err);}else{toast.success(\"Member Removed Succeffully\");}});}};return/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"100px\"},children:/*#__PURE__*/_jsxs(\"table\",{className:\"styled-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\"No.\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\"Contact\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\"Roll\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:Object.keys(data).map(function(id,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:data[id].uname}),/*#__PURE__*/_jsx(\"td\",{children:data[id].contact}),/*#__PURE__*/_jsx(\"td\",{children:data[id].roll}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/update/\".concat(id),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-edit\",children:\"Edit\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-delete\",onClick:function onClick(){return onDelete(id);},children:\"Delete\"}),/*#__PURE__*/_jsx(Link,{to:\"/view/\".concat(id),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-view\",children:\"View\"})})]})]},id);})})]})});};export default Home;","map":{"version":3,"sources":["/home/jaswanth/Desktop/OpenSourceTask-4/Task-1/cognizance-member-list/src/pages/Home.js"],"names":["React","useState","useEffect","fireDb","Link","toast","Home","data","setData","database","ref","child","on","snapshot","val","onDelete","id","window","confirm","remove","err","error","success","marginTop","textAlign","Object","keys","map","index","uname","contact","roll"],"mappings":"qTAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAuBC,SAAvB,KAAuC,OAAvC,CACA,MAAOC,CAAAA,MAAP,KAAmB,aAAnB,CACA,MAAO,0BAAP,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,MAAO,YAAP,CAEA,OAASC,KAAT,KAAsB,gBAAtB,C,wFAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CACf,cAAyBL,QAAQ,CAAC,EAAD,CAAjC,wCAAOM,IAAP,eAAcC,OAAd,eAEAN,SAAS,CAAC,UAAM,CACZC,MAAM,CAACM,QAAP,GAAkBC,GAAlB,GAAwBC,KAAxB,CAA8B,SAA9B,EAAyCC,EAAzC,CAA4C,OAA5C,CAAqD,SAACC,QAAD,CAAc,CAC/D,GAAGA,QAAQ,CAACC,GAAT,KAAmB,IAAtB,CAA2B,CACvBN,OAAO,kBAAKK,QAAQ,CAACC,GAAT,EAAL,EAAP,CACH,CAFD,IAEK,CACDN,OAAO,CAAC,EAAD,CAAP,CACH,CACJ,CAND,EAQA,MAAM,WAAM,CACRA,OAAO,CAAC,EAAD,CAAP,CACH,CAFD,CAGH,CAZQ,CAYN,EAZM,CAAT,CAcA,GAAMO,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,EAAD,CAAQ,CACrB,GAAGC,MAAM,CAACC,OAAP,CAAe,qDAAf,CAAH,CACA,CACIf,MAAM,CAACM,QAAP,GAAkBC,GAAlB,GAAwBC,KAAxB,mBAAyCK,EAAzC,GAA+CG,MAA/C,CAAsD,SAACC,GAAD,CAAS,CAC3D,GAAGA,GAAH,CAAQ,CACRf,KAAK,CAACgB,KAAN,CAAYD,GAAZ,EACC,CAFD,IAEK,CACDf,KAAK,CAACiB,OAAN,CAAc,4BAAd,EACH,CACJ,CAND,EAOH,CACJ,CAXD,CAaA,mBACI,YAAK,KAAK,CAAE,CAACC,SAAS,CAAG,OAAb,CAAZ,uBACI,eAAO,SAAS,CAAC,cAAjB,wBACI,oCACI,mCACI,WAAI,KAAK,CAAE,CAACC,SAAS,CAAE,QAAZ,CAAX,iBADJ,cAEI,WAAI,KAAK,CAAE,CAACA,SAAS,CAAE,QAAZ,CAAX,kBAFJ,cAGI,WAAI,KAAK,CAAE,CAACA,SAAS,CAAE,QAAZ,CAAX,qBAHJ,cAII,WAAI,KAAK,CAAE,CAACA,SAAS,CAAE,QAAZ,CAAX,kBAJJ,cAKI,WAAI,KAAK,CAAE,CAACA,SAAS,CAAE,QAAZ,CAAX,oBALJ,GADJ,EADJ,cAUI,uBACKC,MAAM,CAACC,IAAP,CAAYnB,IAAZ,EAAkBoB,GAAlB,CAAsB,SAACX,EAAD,CAAKY,KAAL,CAAe,CAClC,mBACI,mCACI,WAAI,KAAK,CAAC,KAAV,UAAiBA,KAAK,CAAG,CAAzB,EADJ,cAEI,oBAAKrB,IAAI,CAACS,EAAD,CAAJ,CAASa,KAAd,EAFJ,cAGI,oBAAKtB,IAAI,CAACS,EAAD,CAAJ,CAASc,OAAd,EAHJ,cAII,oBAAKvB,IAAI,CAACS,EAAD,CAAJ,CAASe,IAAd,EAJJ,cAKI,mCACI,KAAC,IAAD,EAAM,EAAE,mBAAaf,EAAb,CAAR,uBACA,eAAQ,SAAS,CAAC,cAAlB,kBADA,EADJ,cAKI,eAAQ,SAAS,CAAC,gBAAlB,CAAmC,OAAO,CAAE,yBAAMD,CAAAA,QAAQ,CAACC,EAAD,CAAd,EAA5C,oBALJ,cAOI,KAAC,IAAD,EAAM,EAAE,iBAAWA,EAAX,CAAR,uBACA,eAAQ,SAAS,CAAC,cAAlB,kBADA,EAPJ,GALJ,GAASA,EAAT,CADJ,CAmBH,CApBA,CADL,EAVJ,GADJ,EADJ,CAsCH,CApED,CAsEA,cAAeV,CAAAA,IAAf","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport fireDb from \"../firebase\";\nimport \"firebase/compat/database\";\nimport {Link} from \"react-router-dom\";\nimport \"./Home.css\";\n\nimport { toast } from 'react-toastify';\n\nconst Home = () => {\n    const [data , setData] = useState({});\n\n    useEffect(() => {\n        fireDb.database().ref().child(\"Members\").on(\"value\", (snapshot) => {\n            if(snapshot.val() !== null){\n                setData({...snapshot.val()})\n            }else{\n                setData({});\n            }\n        });\n\n        return() => {\n            setData({});\n        }\n    }, []);\n\n    const onDelete = (id) => {\n        if(window.confirm(\"Are you sure that you wated to delete that Member ?\"))\n        {\n            fireDb.database().ref().child(`Members/${id}`).remove((err) => {\n                if(err) {\n                toast.error(err)\n                }else{\n                    toast.success(\"Member Removed Succeffully\");\n                }\n            });\n        }\n    }\n\n    return (\n        <div style={{marginTop : \"100px\"}}>\n            <table className='styled-table'>\n                <thead>\n                    <tr>\n                        <th style={{textAlign: \"center\"}}>No.</th>\n                        <th style={{textAlign: \"center\"}}>Name</th>\n                        <th style={{textAlign: \"center\"}}>Contact</th>\n                        <th style={{textAlign: \"center\"}}>Roll</th>\n                        <th style={{textAlign: \"center\"}}>Action</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {Object.keys(data).map((id, index) => {\n                        return(\n                            <tr key={id}>\n                                <th scope=\"row\">{index + 1}</th>\n                                <td>{data[id].uname}</td>\n                                <td>{data[id].contact}</td>\n                                <td>{data[id].roll}</td>\n                                <td>\n                                    <Link to={`/update/${id}`}>\n                                    <button className=\"btn btn-edit\">Edit</button>\n                                    </Link>\n\n                                    <button className=\"btn btn-delete\" onClick={() => onDelete(id)}>Delete</button>\n                                    \n                                    <Link to={`/view/${id}`}>\n                                    <button className=\"btn btn-view\">View</button>\n                                    </Link>\n                                </td>\n                            </tr>\n                        )\n                    })}\n                </tbody>\n            </table>\n        </div>\n    );\n};\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}